<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>OpenCV dft() - Fourier Transform using C&#43;&#43; - InsightfulScript</title>
<meta name="description" content="In this article we will discuss What is Fourier Transform, and How to Use Fourier Transform in image processing">

<meta name="author" content="Hatim Master"><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "InsightfulScript",
    
    "url": "http:\/\/localhost:1313\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "http:\/\/localhost:1313\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "http:\/\/localhost:1313\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "http:\/\/localhost:1313\/collections\/programming\/cpp\/opencv-fourier-transform-cpp\/",
          "name": "Open cv dft() fourier transform using c"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Hatim"
  },
  "headline": "OpenCV dft() - Fourier Transform using C\u002b\u002b",
  "description" : "In this article we will discuss What is Fourier Transform, and How to Use Fourier Transform in image processing",
  "inLanguage" : "en",
  "wordCount":  1082 ,
  "datePublished" : "2022-03-18T00:00:00",
  "dateModified" : "2022-03-18T00:00:00",
  "image" : "http:\/\/localhost:1313\/",
  "keywords" : [ "programming, cpp" ],
  "mainEntityOfPage" : "http:\/\/localhost:1313\/collections\/programming\/cpp\/opencv-fourier-transform-cpp\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "http:\/\/localhost:1313\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "http:\/\/localhost:1313\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="OpenCV dft() - Fourier Transform using C&#43;&#43;" />
<meta name="twitter:title" content="OpenCV dft() - Fourier Transform using C&#43;&#43;">
<meta property="og:description" content="In this article we will discuss What is Fourier Transform, and How to Use Fourier Transform in image processing">
<meta name="twitter:card" content="In this article we will discuss What is Fourier Transform, and How to Use Fourier Transform in image processing">
<meta name="twitter:description" content="In this article we will discuss What is Fourier Transform, and How to Use Fourier Transform in image processing">
<meta property="og:image" content="http://localhost:1313/images/fourier_transform.png" />
<meta name="twitter:image" content="http://localhost:1313/images/fourier_transform.png">

<meta property="og:url" content="http://localhost:1313/collections/programming/cpp/opencv-fourier-transform-cpp/" />
<link rel="canonical" href="http://localhost:1313/collections/programming/cpp/opencv-fourier-transform-cpp/">

<meta property="og:type" content="website" />
<meta property="og:site_name" content="InsightfulScript" />


    <meta name="keywords" content="OpenCV,C&#43;&#43;,Cpp,Fourier,Transform,DFT,">
  

    
    <meta name="robots" content="index, follow">
  



<link rel="apple-touch-icon" sizes="180x180" href=" http://localhost:1313/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon/favicon-16x16.png">


<meta name="generator" content="Hugo 0.123.7">
<link rel="alternate" href="http://localhost:1313/index.xml" type="application/rss+xml" title="InsightfulScript">
<script src="http://localhost:1313/js/dark-mode.js"></script><script src="http://localhost:1313/vendor/lunr/lunr.min.js"></script><script src="http://localhost:1313/js/lunr-search.js" data-index="/search.json"></script><link rel="stylesheet" href="/style.min.css">





<script async src="https://www.googletagmanager.com/gtag/js?id=G-WY6TT5EQVC"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-WY6TT5EQVC', { 'anonymize_ip': false });
}
</script>



  </head>
  <body>
    
<div class="container fixed-top mw-100">
  <div class="row justify-content-center">
    <div class="col-sm-12 col-md-12 col-lg-10 col-xl-10">

      <nav class="navbar navbar-expand-lg navbar-light fixed-top p-0">
        <div class="container">

          <a class="navbar-brand fw-bold" href="http://localhost:1313/">InsightfulScript</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav mb-2 mb-lg-0 align-items-baseline">
              
              

              <li class="nav-item">

                
                
                
                
                

                <a class="nav-link " title="Home"
                  href="/"> Home</a>
              </li>

              
              
              

              <li class="nav-item">

                
                
                
                
                

                <a class="nav-link " title="Tags"
                  href="/tags"> Tags</a>
              </li>

              
              
              

              <li class="nav-item">

                
                
                
                
                

                <a class="nav-link " title="Blogs"
                  href="/collections/"> Blogs</a>
              </li>

              
              
              

              <li class="nav-item">

                
                
                
                
                

                <a class="nav-link " title="About"
                  href="/about/"> About</a>
              </li>

              
              

              <li class="nav-item nav-link">
                <a id="dark-mode-toggle" class="bi bi-moon-stars" role="button"></a>
              </li>

              
              <li class="nav-item search-item">
                <form id="search" class="search" role="search">
                  <label for="search-input" class="bi bi-search search-icon"></label>
                  <input type="search" id="search-input" class="search-input">
                </form>
              </li>
              
            </ul>

            
            <template id="search-heading" hidden
                data-results-none="No results found for “{}”"
                data-results-one="Found one result for “{}”"
                data-results-many="Found 13579 results for “{}”"
            >
              <div class="row">
                <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 ">
                  <h1 id="search-title" class="search-title"></h1>
                </div>
              </div>
            </template>

            <template id="search-result" hidden>
              <div class="row">
                <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 ">
                  <article class="content post">
                    <h2><a class="summary-title-link"></a></h2>
                    <div class="post-entry"></div>
                    <div class="read-more-section">
                      <h6 class="text-muted link-underline">
                        <a class="read-more-link">
                          Read More
                          <i class="bi bi-arrow-right"></i>
                        </a>
                      </h6>
                    </div>
                  </article>
                </div>
              </div>
            </template>
            
          </div>
        </div>
      </nav>

    </div>
  </div>
</div>

    









<header class="header-section ">

  <div class="intro-header no-img mt-10">
    <div class="container">
      <div class="row justify-content-center">
        
        <div class="col-sm-12 col-md-12 col-lg-8 col-xl-8">
          

          
          <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
            

            <div class="collections-heading">
              

              

              
              <h1 class="fw-semibold display-5 lh-1 mb-3"> 
                OpenCV dft() - Fourier Transform using C&#43;&#43;
                
              </h1>
              
              

              

              
              
              
            </div>
          </div>
          
        </div>
        
        
      </div>
      
    </div>
  </div>
</header>



    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 ">

      <div class="card-image card-image-blog p-0">
        
        
          
            <img src="/images/fourier_transform.png" alt="/images/fourier_transform.png" class="card-img-bottom rounded img-fluid lazyload">
          
        


        
      </div>
    </div>

    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
      <article role="main" class="blog-post">
        <h1 id="opencv-fourier-transform-using-c">OpenCV Fourier Transform using C++</h1>
<p>In OpenCV, the idea of <a href="https://en.wikipedia.org/wiki/Fourier_transform">Fourier Transform</a> is used in a lot of the processing you do on pictures and videos.</p>
<p>Joseph Fourier was a French mathematician who worked in the 18th century, discovering and popularising several mathematical concepts. He specialised in investigating the principles of heat and, in mathematics, all things waveform.</p>
<p>He discovered that all waveforms are simply the sum of basic sinusoids of various frequency.</p>
<h2 id="what-is-fourier-transformation">What is Fourier Transformation</h2>
<p>The Fourier transform is a mathematical function that takes a time-based pattern and calculates the total cycle offset, rotation speed, and strength for each conceivable cycle in the pattern.</p>
<p><img src="./fourier.png" alt="Fourier Transform"></p>
<p><strong>The Fourier Transform shows that any waveform can be re-written as the sum of sinusoidals.</strong></p>
<p>Waveforms, which are essentially functions of time, space, or any other variable, are subjected to the Fourier transform.
A waveform is decomposed into a <a href="https://en.wikipedia.org/wiki/Sine_wave">sinusoid</a> via the Fourier transform, which gives another way to express a waveform.</p>
<h2 id="fourier-transform-in-image-processing">Fourier Transform in Image Processing</h2>
<p>The Fourier Transform is a useful image processing method for breaking down an image into sine and cosine components.</p>
<p>The image in the Fourier or frequency domain is represented by the output of the transformation, whilst the <a href="https://homepages.inf.ed.ac.uk/rbf/HIPR2/spatdom.htm">spatial domain</a> equivalent is represented by the input image. Each point in the Fourier domain image indicates a frequency contained in the spatial domain image.</p>
<p><img src="./fft_blur_detection_example.webp" alt=""></p>
<p><strong>Image analysis, picture filtering, image reconstruction, and image compression are among applications that use the Fourier Transform.</strong></p>
<h2 id="example">Example</h2>
<p>Now let us try how to apply Fourier Transform using OpenCV.</p>
<p>The Fourier Transform separates a picture into sinus and cosine components.
In other words, it will change the spatial domain of an image to the frequency domain. The concept is that any function may be precisely approximated by adding infinite sinus and cosine functions. One method is to use the Fourier Transform. A two-dimensional image&rsquo;s Fourier transform is defined mathematically as:</p>
<p><img src="./fourier_fornula.png" alt=""></p>
<p>The image value in the spatial domain is f, and the image value in the frequency domain is F. Complex numbers are the outcome of the transformation. This can be displayed in two ways: as a real image and a complex image, or as a magnitude and a phase image. However, only the magnitude image is interesting throughout the image processing methods since it provides all of the information we require about the image&rsquo;s geometric structure. However, if you want to make changes to the image in these forms and then retransform it, you&rsquo;ll need to keep both of them.</p>
<h3 id="code">Code</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&lt;opencv2/highgui.hpp&gt;</span><span style="color:#999;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&lt;opencv2/imgcodecs.hpp&gt;</span><span style="color:#999;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&lt;opencv2/imgproc.hpp&gt;</span><span style="color:#999;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&lt;iostream&gt;</span><span style="color:#999;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">showImg</span>(cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span>, <span style="font-weight:bold">const</span> std<span style="font-weight:bold">::</span>string<span style="font-weight:bold">&amp;</span> );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">expand_img_to_optimal</span>(cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> , cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> );
</span></span><span style="display:flex;"><span>cv<span style="font-weight:bold">::</span>Mat fourier_transform(cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> );
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">crop_and_rearrange</span>(cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>(<span style="color:#458;font-weight:bold">int</span> argc,<span style="color:#458;font-weight:bold">char</span><span style="font-weight:bold">**</span> argv)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>Mat input_img,fourier_img;
</span></span><span style="display:flex;"><span>	input_img <span style="font-weight:bold">=</span> cv<span style="font-weight:bold">::</span>imread(argv[<span style="color:#099">1</span>],cv<span style="font-weight:bold">::</span>IMREAD_GRAYSCALE);
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">if</span>(input_img.empty()) {
</span></span><span style="display:flex;"><span>		fprintf(stderr,<span style="color:#b84">&#34;Could not Open image</span><span style="color:#b84">\n\n</span><span style="color:#b84">&#34;</span>);
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">return</span> <span style="font-weight:bold">-</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	showImg(input_img,<span style="color:#b84">&#34;Input Image&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	fourier_img <span style="font-weight:bold">=</span> fourier_transform(input_img);
</span></span><span style="display:flex;"><span>	showImg(fourier_img,<span style="color:#b84">&#34;Fourier Image&#34;</span>);
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>waitKey();
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">showImg</span>(cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> img,<span style="font-weight:bold">const</span> std<span style="font-weight:bold">::</span>string<span style="font-weight:bold">&amp;</span> name)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>namedWindow(name.c_str());
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>imshow(name.c_str(),img);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">expand_img_to_optimal</span>(cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> padded,cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> img) {
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> row <span style="font-weight:bold">=</span> cv<span style="font-weight:bold">::</span>getOptimalDFTSize(img.rows);
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> col <span style="font-weight:bold">=</span> cv<span style="font-weight:bold">::</span>getOptimalDFTSize(img.cols);
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>copyMakeBorder(img,padded,<span style="color:#099">0</span>,row <span style="font-weight:bold">-</span> img.rows,<span style="color:#099">0</span>,col <span style="font-weight:bold">-</span> img.cols,cv<span style="font-weight:bold">::</span>BORDER_CONSTANT,cv<span style="font-weight:bold">::</span>Scalar<span style="font-weight:bold">::</span>all(<span style="color:#099">0</span>));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cv<span style="font-weight:bold">::</span>Mat fourier_transform(cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> img) {
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>Mat padded;
</span></span><span style="display:flex;"><span>	expand_img_to_optimal(padded,img);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// Since the result of Fourier Transformation is in complex form we make two planes to hold  real and imaginary value
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	cv<span style="font-weight:bold">::</span>Mat planes[] <span style="font-weight:bold">=</span> {cv<span style="font-weight:bold">::</span>Mat_<span style="font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">float</span><span style="font-weight:bold">&gt;</span>(padded),cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">::</span>zeros(padded.size(),CV_32F)};
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>Mat complexI;
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>merge(planes,<span style="color:#099">2</span>,complexI);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>dft(complexI,complexI,cv<span style="font-weight:bold">::</span>DFT_COMPLEX_OUTPUT); <span style="color:#998;font-style:italic">// Fourier Transform
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>split(complexI,planes);
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>magnitude(planes[<span style="color:#099">0</span>],planes[<span style="color:#099">1</span>],planes[<span style="color:#099">0</span>]);
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>Mat magI <span style="font-weight:bold">=</span> planes[<span style="color:#099">0</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	magI <span style="font-weight:bold">+=</span> cv<span style="font-weight:bold">::</span>Scalar<span style="font-weight:bold">::</span>all(<span style="color:#099">1</span>);
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>log(magI,magI);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	crop_and_rearrange(magI);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>normalize(magI, magI, <span style="color:#099">0</span>, <span style="color:#099">1</span>, cv<span style="font-weight:bold">::</span>NORM_MINMAX); <span style="color:#998;font-style:italic">// for visualization purposes
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="font-weight:bold">return</span> magI;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">crop_and_rearrange</span>(cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> magI)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	  magI <span style="font-weight:bold">=</span> magI(cv<span style="font-weight:bold">::</span>Rect(<span style="color:#099">0</span>, <span style="color:#099">0</span>, magI.cols <span style="font-weight:bold">&amp;</span> <span style="font-weight:bold">-</span><span style="color:#099">2</span>, magI.rows <span style="font-weight:bold">&amp;</span> <span style="font-weight:bold">-</span><span style="color:#099">2</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> cx <span style="font-weight:bold">=</span> magI.cols<span style="font-weight:bold">/</span><span style="color:#099">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> cy <span style="font-weight:bold">=</span> magI.rows<span style="font-weight:bold">/</span><span style="color:#099">2</span>;
</span></span><span style="display:flex;"><span>		cv<span style="font-weight:bold">::</span>Mat q0(magI, cv<span style="font-weight:bold">::</span>Rect(<span style="color:#099">0</span>, <span style="color:#099">0</span>, cx, cy));
</span></span><span style="display:flex;"><span>		cv<span style="font-weight:bold">::</span>Mat q1(magI, cv<span style="font-weight:bold">::</span>Rect(cx, <span style="color:#099">0</span>, cx, cy));  <span style="color:#998;font-style:italic">// Top-Right
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    cv<span style="font-weight:bold">::</span>Mat q2(magI, cv<span style="font-weight:bold">::</span>Rect(<span style="color:#099">0</span>, cy, cx, cy));  <span style="color:#998;font-style:italic">// Bottom-Left
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    cv<span style="font-weight:bold">::</span>Mat q3(magI, cv<span style="font-weight:bold">::</span>Rect(cx, cy, cx, cy)); <span style="color:#998;font-style:italic">// Bottom-Right
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    cv<span style="font-weight:bold">::</span>Mat tmp;                           <span style="color:#998;font-style:italic">// swap quadrants (Top-Left with Bottom-Right)
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    q0.copyTo(tmp);
</span></span><span style="display:flex;"><span>    q3.copyTo(q0);
</span></span><span style="display:flex;"><span>    tmp.copyTo(q3)
</span></span><span style="display:flex;"><span>    q1.copyTo(tmp);                    <span style="color:#998;font-style:italic">// swap quadrant (Top-Right with Bottom-Left)
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    q2.copyTo(q1);
</span></span><span style="display:flex;"><span>    tmp.copyTo(q2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="explanation">Explanation</h3>
<p>The above code shows the <strong>magnitude image</strong> of Fourier Transform.Digital Images are discret, this indicates they have the ability to take a value from a domain value. Values in a simple grey scale image, for example, are normally between zero and 255. As a result, the Fourier Transform must also be discrete, yielding a Discrete Fourier Transform (DFT).</p>
<h4 id="expand_img_to_optimal"><code>expand_img_to_optimal()</code></h4>
<p>The size of the image has an impact on the DFT&rsquo;s performance.
For image sizes that are multiples of the digits two, three, and five, it is the fastest.
As a result, padding border values to the image to create a size with such qualities is often a good idea to get maximum efficiency.
We can use the <code>copyMakeBorder()</code> function to expand the borders of an image (the appended pixels are initialised with zero): <code>getOptimalDFTSize()</code> returns this optimal size, and we can use the <code>copyMakeBorder()</code> function to expand the borders of an image.</p>
<h4 id="creating-two-planes-for-complex-and-real-values">Creating Two Planes for Complex and Real Values</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>Mat planes[] <span style="font-weight:bold">=</span> {cv<span style="font-weight:bold">::</span>Mat_<span style="font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">float</span><span style="font-weight:bold">&gt;</span>(padded),cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">::</span>zeros(padded.size(),CV_32F)};
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>Mat complexI;
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>merge(planes,<span style="color:#099">2</span>,complexI);
</span></span></code></pre></div><p>A Fourier Transform produces a complex output. This means that the output is two image values for each image value (one per component). Furthermore, the frequency domain&rsquo;s range is substantially larger than that of the spatial domain. As a result, we normally save these in float format. As a result, we&rsquo;ll are changing the type of our input image and add another channel to carry the complex values.</p>
<h4 id="transform-the-real-and-complex-values-to-magnitude">Transform the real and complex values to magnitude</h4>
<p>There are two parts to a complex number: real (Re) and complex (imaginary - Im).
A DFT yields complex numbers as a consequence.
A DFT has the following magnitude:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>split(complexI,planes);
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>magnitude(planes[<span style="color:#099">0</span>],planes[<span style="color:#099">1</span>],planes[<span style="color:#099">0</span>]);
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>Mat magI <span style="font-weight:bold">=</span> planes[<span style="color:#099">0</span>];
</span></span></code></pre></div><p>The dynamic range of the Fourier coefficients turns out to be too large to display on the screen. We have certain little and large shifting variables that we are unable to see in this manner. As a result, the high values will all appear as white spots, while the low values will appear as black. We may convert our linear scale to a logarithmic one to use the grey scale values for visualisation:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	magI <span style="font-weight:bold">+=</span> cv<span style="font-weight:bold">::</span>Scalar<span style="font-weight:bold">::</span>all(<span style="color:#099">1</span>);
</span></span><span style="display:flex;"><span>	cv<span style="font-weight:bold">::</span>log(magI,magI);
</span></span></code></pre></div><h4 id="crop_and_rearrangecvmat-"><code>crop_and_rearrange(cv::Mat&amp; )</code></h4>
<p>Remember how we extended the image in the first step?
Now is the time to discard the newly inserted values.
We can also rearrange the quadrants of the result for display purposes, so that the origin (zero, zero) corresponds to the image centre.</p>
<h3 id="result">Result</h3>
<p><img src="./fourier_transform.png" alt="Fourier Transform Result"></p>
<h4 id="references">References</h4>
<ul>
<li>
<p><a href="https://amzn.to/3N7WwbC">Building Computer Vision Projects with OpenCV 4 and C++</a></p>
</li>
<li>
<p><a href="https://amzn.to/3toR4sR">Learning OpenCV 3: Computer Vision In C++ With The OpenCV Library</a></p>
</li>
<li>
<p><a href="https://amzn.to/37ztG3o">OpenCV 4 Computer Vision Application Programming Cookbook: Build complex computer vision applications with OpenCV and C++, 4th Edition </a></p>
</li>
<li>
<p><a href="https://amzn.to/3ilHaC5">Object-Oriented Programming with C++ | 8th Edition </a></p>
</li>
<li>
<p><a href="https://pyimagesearch.com/">https://pyimagesearch.com/</a></p>
</li>
</ul>

      </article>
    </div>
  </div>

  
  <div class="row">
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1">
      <hr class="m-0"/>
    </div>
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-2">
      
      <div class="blog-tags">
        
        <a href="http://localhost:1313/tags/programming/">programming</a>
        
        <a href="http://localhost:1313/tags/cpp/">cpp</a>
        
      </div>
      
    </div>

    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
      
      <section id="social-share">
        <div class="list-inline footer-links">
          

<div>
  <p>Use the share button below if you liked it.</p>
</div>
<div class="share-box" aria-hidden="true">
  <ul class="share">
    
    <li>
      <a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fcollections%2fprogramming%2fcpp%2fopencv-fourier-transform-cpp%2f" target="_blank" title="Share on Facebook">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="bi bi-facebook" viewBox="0 0 16 16">
          <path
            d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z" />
        </svg>
      </a>
    </li>
    
    <li>
      <a href="//twitter.com/share?url=http%3a%2f%2flocalhost%3a1313%2fcollections%2fprogramming%2fcpp%2fopencv-fourier-transform-cpp%2f&amp;text=OpenCV%20dft%28%29%20-%20Fourier%20Transform%20using%20C%2b%2b&amp;via=map%5bemail%3asample%40gmail.com%20gelegram%3a%40include_Hatim%20github%3aMaster52%20instagram%3ahatim_master%20linkedin%3ahatim-master%20name%3aHatim%20Master%20reddit%3ahatim112%20website%3a%2f%5d"
        target="_blank" title="Share on Twitter">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="bi bi-twitter-x" viewBox="0 0 16 16">
          <path
            d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z" />
        </svg>
      </a>
    </li>


    
    <li>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fcollections%2fprogramming%2fcpp%2fopencv-fourier-transform-cpp%2f&amp;title=OpenCV%20dft%28%29%20-%20Fourier%20Transform%20using%20C%2b%2b"
        target="_blank" title="Share on LinkedIn">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="bi bi-linkedin" viewBox="0 0 16 16">
          <path
            d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z" />
        </svg>
      </a>
    </li>

    <li>
      <a target="_blank" rel="noopener noreferrer" aria-label="share OpenCV dft() - Fourier Transform using C&#43;&#43; on reddit"
        href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fcollections%2fprogramming%2fcpp%2fopencv-fourier-transform-cpp%2f&title=OpenCV%20dft%28%29%20-%20Fourier%20Transform%20using%20C%2b%2b">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="bi bi-reddit"
          viewBox="0 0 16 16">
          <path
            d="M6.167 8a.831.831 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661zm1.843 3.647c.315 0 1.403-.038 1.976-.611a.232.232 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83.458 0 .83-.381.83-.83a.831.831 0 0 0-1.66 0z" />
          <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.203.203 0 0 0-.153.028.186.186 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224c-.02.115-.029.23-.029.353 0 1.795 2.091 3.256 4.669 3.256 2.577 0 4.668-1.451 4.668-3.256 0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165z" />
        </svg>
      </a>
    </li>

    
    


    
    <li>
      <a href="whatsapp://send?text=http%3a%2f%2flocalhost%3a1313%2fcollections%2fprogramming%2fcpp%2fopencv-fourier-transform-cpp%2f&amp;description=OpenCV%20dft%28%29%20-%20Fourier%20Transform%20using%20C%2b%2b" target="_blank" rel="noopener"
        title="Share on WhatsApp">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="bi bi-whatsapp" viewBox="0 0 16 16">
          <path
            d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z" />
        </svg>
      </a>
    </li>
  </ul>
</div>


<p class="text-muted">It makes me smile, when I see it.</p>
        </div>
      </section>
      
    </div>

    
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 mt-3">
      <div class="card">
        <div class="row no-gutters">
          <div class="col-md-2 ">
            <div class="card-body ">
              
              <img src="/images/insightful-log.webp" class="img-responsive img-50 img-round" alt="">
            </div>
          </div>


          <div class="col-md-10">
            <div class="card-body p-1.1">
              <p class="p-0 m-0"><small class="text-muted">Written By</small></p>
              <p class="card-text fs-5 m-0">

                
                Hatim
                

              </p>
              
              <p class="card-text fs-6  m-0">Tech enthusiast and founder of InsightfulScript, passionately navigating the worlds of programming and machine learning</p>
              
            </div>
          </div>
        </div>
      </div>
    </div>
    

    <div class="col-lg-8 offset-lg-2 col-md-12 offset-md-1 pt-4">
      
      <ul class="list-group list-group-horizontal" style="flex-direction: row">
        
        <li class="list-group-item b-0 p-0">

          <a type="button" class="btn btn-dark" role="button" href="http://localhost:1313/collections/programming/machine-learning/mlops/what-is-mlops/"
            data-toggle="tooltip" data-placement="top" title="MLOps - Beginners Guid to MLOps,What It Is, and How to Implement It">&larr;
            Previous Post</a>
        </li>
        


        
        <li class="list-group-item ms-auto b-0 p-0">
          <a type="button" class="btn btn-dark" role="button" href="http://localhost:1313/collections/programming/cpp/opencv/opencv-low-high-pass-filter/"
            data-toggle="tooltip" data-placement="top" title="OpenCV - Understanding Low Pass And High Pass Filter using C&#43;&#43;">Next Post
            &rarr;</a>
        </li>
        
      </ul>
      
    </div>

    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
    </div>
  </div>
  
</div>

<div class="">
  
  
  
  
  

  
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-md-12 mt-3">
        <h3>Read More</h3>
        <hr />
      </div>

      
      

      
<div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <a href="http://localhost:1313/collections/programming/react-native/react-native-biomatric/">
        <div class="card h-100 single-post-card shadow-effect bg-faded-light border">
            <div class="card-body">
                <h3 class="fw-bold post-title">Implementing Biometric Authentication in React Native Made Easy</h3>
                

                <p class="post-meta">
                    <span class="post-meta text-muted">
  
  

  13 April 131312

  

  
  &nbsp;|&nbsp; <i class="bi bi-clock"></i>&nbsp;9&nbsp;minutes
  

  

  
</span>

                </p>
                

                <div class="post-entry">
                    
                    Strengthen the security of your React Native app with biometric authentication. Our guide makes it simple and straightforward to implement.

                    
                </div>

                <div class="read-more-section">
                    
                    <h6 class="text-muted link-underline">Read More <i class="bi bi-arrow-right"></i></h6>
                </div>
            </div>

            
            <img src="/images/react-native-biomatric_hu9cb1892c08812a762d7bfa1d1ba5aba2_3519329_500x0_resize_q75_box.jpg" alt="/images/react-native-biomatric.jpg"
                class="card-img-bottom img-fluid lazyload">
            

            
        </div>
    </a>
</div>


      

      
<div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <a href="http://localhost:1313/collections/programming/react-native/react-native-modal/">
        <div class="card h-100 single-post-card shadow-effect bg-faded-light border">
            <div class="card-body">
                <h3 class="fw-bold post-title">React Native Modal- A Beginner&#39;s Guide to Creating User-Friendly Interfaces</h3>
                

                <p class="post-meta">
                    <span class="post-meta text-muted">
  
  

  3 April 30312

  

  
  &nbsp;|&nbsp; <i class="bi bi-clock"></i>&nbsp;12&nbsp;minutes
  

  

  
</span>

                </p>
                

                <div class="post-entry">
                    
                    Learn how to use React Native Modal to create customizable pop-ups and dialogs for your mobile app. This guide will take you through the basics of creating user-friendly interfaces with easy-to-follow steps and examples.

                    
                </div>

                <div class="read-more-section">
                    
                    <h6 class="text-muted link-underline">Read More <i class="bi bi-arrow-right"></i></h6>
                </div>
            </div>

            
            <img src="/images/react-native-model-guide_hud77947122ec5bf723575dbf4adbc5a3e_1141034_500x0_resize_q75_box.jpg" alt="/images/react-native-model-guide.jpg"
                class="card-img-bottom img-fluid lazyload">
            

            
        </div>
    </a>
</div>


      

      
<div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <a href="http://localhost:1313/collections/programming/react-native/react-native-styling-animation/">
        <div class="card h-100 single-post-card shadow-effect bg-faded-light border">
            <div class="card-body">
                <h3 class="fw-bold post-title">Mastering React Native Styling Animation- Techniques, Tips, and Tricks</h3>
                

                <p class="post-meta">
                    <span class="post-meta text-muted">
  
  

  29 March 292912

  

  
  &nbsp;|&nbsp; <i class="bi bi-clock"></i>&nbsp;15&nbsp;minutes
  

  

  
</span>

                </p>
                

                <div class="post-entry">
                    
                    Learn how to create stunning animations using React Native Styling Animation. Discover the best techniques, tips, and tricks to make your app stand out.

                    
                </div>

                <div class="read-more-section">
                    
                    <h6 class="text-muted link-underline">Read More <i class="bi bi-arrow-right"></i></h6>
                </div>
            </div>

            
            <img src="/images/react-native-animation_hue9948f21c2412f542d57ba2f26b0bcf8_1158516_500x0_resize_q75_box.jpg" alt="/images/react-native-animation.jpg"
                class="card-img-bottom img-fluid lazyload">
            

            
        </div>
    </a>
</div>


      
    </div>
  </div>
  
  

  

</div>

    


<footer>

  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <ul
          class="list-inline list-group list-group-horizontal text-center footer-links d-flex justify-content-center flex-row">

          
          <li>
            <a href="mailto:sample@gmail.com" title="Email me" target="_blank">
              <span class="mx-2">
                <i class="bi bi-envelope"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://github.com/Master52" title="GitHub" target="_blank">
              <span class="mx-2">
                <i class="bi bi-github"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://reddit.com/u/hatim112" title="Reddit" target="_blank">
              <span class="mx-2">
                <i class="bi bi-reddit-alien"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://linkedin.com/in/hatim-master" title="LinkedIn" target="_blank">
              <span class="mx-2">
                <i class="bi bi-linkedin"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://www.instagram.com/hatim_master" title="Instagram" target="_blank">
              <span class="mx-2">
                <i class="bi bi-instagram"></i>
              </span>
            </a>
          </li>
          
        </ul>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <p class="credits copyright text-muted">
          
          
          <a href="/">Hatim Master</a>
          
          

          &nbsp;&bull;&nbsp;&copy;
          
          2023
          

          
          &nbsp;&bull;&nbsp;
          <a href="http://localhost:1313/">InsightfulScript</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          Powered by <a href="https://gohugo.io">Hugo</a> & <a href="https://github.com/binokochumolvarghese/lightbi-hugo">Lightbi.</a>&nbsp; Made with ❤ by <a href="https://binovarghese.com">Bino</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="http://localhost:1313/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="http://localhost:1313/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function () { $("pre.chroma").css("padding", "0"); }); </script>


    
  </body>
</html>

