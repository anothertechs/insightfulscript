<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>calHist() - Calculate histogram using openCV and C&#43;&#43; - InsightfulScript</title>
<meta name="description" content="How to compute picture histograms using OpenCV and the &#34;cv::calcHist()&#34; function will be covered in this lesson.">

<meta name="author" content="Hatim Master"><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "InsightfulScript",
    
    "url": "http:\/\/localhost:1313\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "http:\/\/localhost:1313\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "http:\/\/localhost:1313\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "http:\/\/localhost:1313\/collections\/programming\/cpp\/opencv\/calculate-histogram\/",
          "name": "Cal hist() calculate histogram using open cv and c"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Hatim"
  },
  "headline": "calHist() - Calculate histogram using openCV and C\u002b\u002b",
  "description" : "How to compute picture histograms using OpenCV and the \u0022cv::calcHist()\u0022 function will be covered in this lesson.",
  "inLanguage" : "en",
  "wordCount":  843 ,
  "datePublished" : "2021-08-12T00:00:00",
  "dateModified" : "2021-08-12T00:00:00",
  "image" : "http:\/\/localhost:1313\/",
  "keywords" : [ "programming, cpp, opencv" ],
  "mainEntityOfPage" : "http:\/\/localhost:1313\/collections\/programming\/cpp\/opencv\/calculate-histogram\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "http:\/\/localhost:1313\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "http:\/\/localhost:1313\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="calHist() - Calculate histogram using openCV and C&#43;&#43;" />
<meta name="twitter:title" content="calHist() - Calculate histogram using openCV and C&#43;&#43;">
<meta property="og:description" content="How to compute picture histograms using OpenCV and the &#34;cv::calcHist()&#34; function will be covered in this lesson.">
<meta name="twitter:card" content="How to compute picture histograms using OpenCV and the &#34;cv::calcHist()&#34; function will be covered in this lesson.">
<meta name="twitter:description" content="How to compute picture histograms using OpenCV and the &#34;cv::calcHist()&#34; function will be covered in this lesson.">
<meta property="og:image" content="http://localhost:1313/images/images.jpg" />
<meta name="twitter:image" content="http://localhost:1313/images/images.jpg">

<meta property="og:url" content="http://localhost:1313/collections/programming/cpp/opencv/calculate-histogram/" />
<link rel="canonical" href="http://localhost:1313/collections/programming/cpp/opencv/calculate-histogram/">

<meta property="og:type" content="website" />
<meta property="og:site_name" content="InsightfulScript" />


    <meta name="keywords" content="opencv,c&#43;&#43;,cpp,histogram,calHist,calhist,grayscale,video,image,RGB,channel,dimensions,code,example,explanation,computer,vision,object,tracking,photos,frequency,distribution,machine,learning,artifical,intelligance">
  

    
    <meta name="robots" content="index, follow">
  



<link rel="apple-touch-icon" sizes="180x180" href=" http://localhost:1313/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon/favicon-16x16.png">


<meta name="generator" content="Hugo 0.123.7">
<link rel="alternate" href="http://localhost:1313/index.xml" type="application/rss+xml" title="InsightfulScript">
<script src="http://localhost:1313/js/dark-mode.js"></script><script src="http://localhost:1313/vendor/lunr/lunr.min.js"></script><script src="http://localhost:1313/js/lunr-search.js" data-index="/search.json"></script><link rel="stylesheet" href="/style.min.css">





<script async src="https://www.googletagmanager.com/gtag/js?id=G-WY6TT5EQVC"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-WY6TT5EQVC', { 'anonymize_ip': false });
}
</script>



  </head>
  <body>
    
<div class="container fixed-top mw-100">
  <div class="row justify-content-center">
    <div class="col-sm-12 col-md-12 col-lg-10 col-xl-10">

      <nav class="navbar navbar-expand-lg navbar-light fixed-top p-0">
        <div class="container">

          <a class="navbar-brand fw-bold" href="http://localhost:1313/">InsightfulScript</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav mb-2 mb-lg-0 align-items-baseline">
              
              

              <li class="nav-item">

                
                
                
                
                

                <a class="nav-link " title="Home"
                  href="/"> Home</a>
              </li>

              
              
              

              <li class="nav-item">

                
                
                
                
                

                <a class="nav-link " title="Tags"
                  href="/tags"> Tags</a>
              </li>

              
              
              

              <li class="nav-item">

                
                
                
                
                

                <a class="nav-link " title="Blogs"
                  href="/collections/"> Blogs</a>
              </li>

              
              
              

              <li class="nav-item">

                
                
                
                
                

                <a class="nav-link " title="About"
                  href="/about/"> About</a>
              </li>

              
              

              <li class="nav-item nav-link">
                <a id="dark-mode-toggle" class="bi bi-moon-stars" role="button"></a>
              </li>

              
              <li class="nav-item search-item">
                <form id="search" class="search" role="search">
                  <label for="search-input" class="bi bi-search search-icon"></label>
                  <input type="search" id="search-input" class="search-input">
                </form>
              </li>
              
            </ul>

            
            <template id="search-heading" hidden
                data-results-none="No results found for “{}”"
                data-results-one="Found one result for “{}”"
                data-results-many="Found 13579 results for “{}”"
            >
              <div class="row">
                <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 ">
                  <h1 id="search-title" class="search-title"></h1>
                </div>
              </div>
            </template>

            <template id="search-result" hidden>
              <div class="row">
                <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 ">
                  <article class="content post">
                    <h2><a class="summary-title-link"></a></h2>
                    <div class="post-entry"></div>
                    <div class="read-more-section">
                      <h6 class="text-muted link-underline">
                        <a class="read-more-link">
                          Read More
                          <i class="bi bi-arrow-right"></i>
                        </a>
                      </h6>
                    </div>
                  </article>
                </div>
              </div>
            </template>
            
          </div>
        </div>
      </nav>

    </div>
  </div>
</div>

    









<header class="header-section ">

  <div class="intro-header no-img mt-10">
    <div class="container">
      <div class="row justify-content-center">
        
        <div class="col-sm-12 col-md-12 col-lg-8 col-xl-8">
          

          
          <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
            

            <div class="collections-heading">
              

              

              
              <h1 class="fw-semibold display-5 lh-1 mb-3"> 
                calHist() - Calculate histogram using openCV and C&#43;&#43;
                
              </h1>
              
              

              

              
              
              
            </div>
          </div>
          
        </div>
        
        
      </div>
      
    </div>
  </div>
</header>



    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 ">

      <div class="card-image card-image-blog p-0">
        
        


        
      </div>
    </div>

    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
      <article role="main" class="blog-post">
        <h1 id="calhist---calculate-histogram-using-opencv-and-c">calHist() - Calculate histogram using openCV and C++</h1>
<p>In practically every element of computer vision, histograms are used. For threshold, we employ gray-scale histograms. For white balance, we employ histograms.
For object tracking in photos, such as with the CamShift technique, we use colour histograms.
Color histograms are used as features, and colour histograms in several dimensions are included.</p>
<p>In a more abstract sense, they form the HOG and SIFT descriptors from histograms of visual gradients.</p>
<p>A histogram is also a bag-of-visual-words representation, which is widely employed in image search engines and machine learning.
And, more than likely, this isn’t the first time you’ve seen histograms in your studies.</p>
<p>So, why do histograms come in handy?</p>
<p>Because histograms depict a set of data frequency distribution.
And it turns out that looking at these frequency distributions is a dominant method to develop simple image processing techniques&hellip; as well as really powerful machine learning algorithms.</p>
<p>This blog post will summarize image histograms, as well as how to calculate colour histograms from video using openCV and C++.</p>
<h2 id="what-is-histogram-">What is Histogram ?</h2>
<p>You might think of a histogram as a graph or plot that shows how an image’s intensity distribution is distributed.
It’s a graph with pixel values (usually ranging from 0 to 255) on the X-axis and the number of pixels in the picture on the Y-axis.</p>
<p>It’s just a different way of looking at the image.
When you look at the histogram of an image, you may get a sense of the image’s contrast, brightness, intensity distribution, and so on.</p>
<p>Almost all image processing software today includes a histogram feature.</p>
<p><img src="./image-histogram.webp" alt="Gray Scale Image Histogram"></p>
<h2 id="calhist-function-in-opencv">calHist() function in openCV</h2>
<p><code>cv.calcHist(images, channels, mask, histSize, ranges[, hist[, accumulate]])</code></p>
<p>So now we use calcHist() function to find the histogram. Let’s familiarize with the function and its parameters :</p>
<ol>
<li><strong>images</strong> : this is the uint8 or float32 source image.</li>
</ol>
<p>“[img]” should be written in square brackets.</p>
<ol start="2">
<li><strong>channels</strong>: It is the channel index for which the histogram is calculated.</li>
</ol>
<p>If the input is a gray-scale image, the value is [0].</p>
<p>To calculate the histogram of the blue, green, or red channel in a colour image, pass [0], [1], or [2].</p>
<ol start="3">
<li><strong>mask</strong>: It is given as “None” to find the histogram of the entire image.</li>
</ol>
<p>But if you want to find histogram of a particular region of image, create a mask image for that and give it as a mask.</p>
<ol start="4">
<li>
<p><strong>histSize</strong>: Our BIN count is represented by histSize. Must be enclosed in square brackets. We pass [256] for full scale.</p>
</li>
<li>
<p><strong>range</strong>: It’s usually [0,256].</p>
</li>
</ol>
<h2 id="code">Code</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&#34;opencv2/highgui.hpp&#34;</span><span style="color:#999;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&#34;opencv2/imgcodecs.hpp&#34;</span><span style="color:#999;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&#34;opencv2/imgproc.hpp&#34;</span><span style="color:#999;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&lt;iostream&gt;</span><span style="color:#999;font-weight:bold">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">const</span> <span style="color:#458;font-weight:bold">int</span> histSize <span style="font-weight:bold">=</span> <span style="color:#099">256</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">drawHistogram</span>(cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> b_hist,cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> g_hist,cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&amp;</span> r_hist) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> hist_w <span style="font-weight:bold">=</span> <span style="color:#099">512</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> hist_h <span style="font-weight:bold">=</span> <span style="color:#099">400</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> bin_w <span style="font-weight:bold">=</span> cvRound((<span style="color:#458;font-weight:bold">double</span>)hist_w <span style="font-weight:bold">/</span> histSize);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>Mat histImage(hist_h, hist_w, CV_8UC3, cv<span style="font-weight:bold">::</span>Scalar(<span style="color:#099">0</span>, <span style="color:#099">0</span>, <span style="color:#099">0</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>normalize(b_hist, b_hist, <span style="color:#099">0</span>, histImage.rows, cv<span style="font-weight:bold">::</span>NORM_MINMAX, <span style="font-weight:bold">-</span><span style="color:#099">1</span>,
</span></span><span style="display:flex;"><span>                  cv<span style="font-weight:bold">::</span>Mat());
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>normalize(g_hist, g_hist, <span style="color:#099">0</span>, histImage.rows, cv<span style="font-weight:bold">::</span>NORM_MINMAX, <span style="font-weight:bold">-</span><span style="color:#099">1</span>,
</span></span><span style="display:flex;"><span>                  cv<span style="font-weight:bold">::</span>Mat());
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>normalize(r_hist, r_hist, <span style="color:#099">0</span>, histImage.rows, cv<span style="font-weight:bold">::</span>NORM_MINMAX, <span style="font-weight:bold">-</span><span style="color:#099">1</span>,
</span></span><span style="display:flex;"><span>                  cv<span style="font-weight:bold">::</span>Mat());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="font-weight:bold">&lt;</span> histSize; i<span style="font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>      cv<span style="font-weight:bold">::</span>line(
</span></span><span style="display:flex;"><span>          histImage,
</span></span><span style="display:flex;"><span>          cv<span style="font-weight:bold">::</span>Point(bin_w <span style="font-weight:bold">*</span> (i <span style="font-weight:bold">-</span> <span style="color:#099">1</span>), hist_h <span style="font-weight:bold">-</span> cvRound(b_hist.at<span style="font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">float</span><span style="font-weight:bold">&gt;</span>(i <span style="font-weight:bold">-</span> <span style="color:#099">1</span>))),
</span></span><span style="display:flex;"><span>          cv<span style="font-weight:bold">::</span>Point(bin_w <span style="font-weight:bold">*</span> (i), hist_h <span style="font-weight:bold">-</span> cvRound(b_hist.at<span style="font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">float</span><span style="font-weight:bold">&gt;</span>(i))),
</span></span><span style="display:flex;"><span>          cv<span style="font-weight:bold">::</span>Scalar(<span style="color:#099">255</span>, <span style="color:#099">0</span>, <span style="color:#099">0</span>), <span style="color:#099">2</span>, <span style="color:#099">8</span>, <span style="color:#099">0</span>);
</span></span><span style="display:flex;"><span>      cv<span style="font-weight:bold">::</span>line(
</span></span><span style="display:flex;"><span>          histImage,
</span></span><span style="display:flex;"><span>          cv<span style="font-weight:bold">::</span>Point(bin_w <span style="font-weight:bold">*</span> (i <span style="font-weight:bold">-</span> <span style="color:#099">1</span>), hist_h <span style="font-weight:bold">-</span> cvRound(g_hist.at<span style="font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">float</span><span style="font-weight:bold">&gt;</span>(i <span style="font-weight:bold">-</span> <span style="color:#099">1</span>))),
</span></span><span style="display:flex;"><span>          cv<span style="font-weight:bold">::</span>Point(bin_w <span style="font-weight:bold">*</span> (i), hist_h <span style="font-weight:bold">-</span> cvRound(g_hist.at<span style="font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">float</span><span style="font-weight:bold">&gt;</span>(i))),
</span></span><span style="display:flex;"><span>          cv<span style="font-weight:bold">::</span>Scalar(<span style="color:#099">0</span>, <span style="color:#099">255</span>, <span style="color:#099">0</span>), <span style="color:#099">2</span>, <span style="color:#099">8</span>, <span style="color:#099">0</span>);
</span></span><span style="display:flex;"><span>      cv<span style="font-weight:bold">::</span>line(
</span></span><span style="display:flex;"><span>          histImage,
</span></span><span style="display:flex;"><span>          cv<span style="font-weight:bold">::</span>Point(bin_w <span style="font-weight:bold">*</span> (i <span style="font-weight:bold">-</span> <span style="color:#099">1</span>), hist_h <span style="font-weight:bold">-</span> cvRound(r_hist.at<span style="font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">float</span><span style="font-weight:bold">&gt;</span>(i <span style="font-weight:bold">-</span> <span style="color:#099">1</span>))),
</span></span><span style="display:flex;"><span>          cv<span style="font-weight:bold">::</span>Point(bin_w <span style="font-weight:bold">*</span> (i), hist_h <span style="font-weight:bold">-</span> cvRound(r_hist.at<span style="font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">float</span><span style="font-weight:bold">&gt;</span>(i))),
</span></span><span style="display:flex;"><span>          cv<span style="font-weight:bold">::</span>Scalar(<span style="color:#099">0</span>, <span style="color:#099">0</span>, <span style="color:#099">255</span>), <span style="color:#099">2</span>, <span style="color:#099">8</span>, <span style="color:#099">0</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>namedWindow(<span style="color:#b84">&#34;calcHist Demo&#34;</span>, cv<span style="font-weight:bold">::</span>WINDOW_AUTOSIZE);
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>imshow(<span style="color:#b84">&#34;calcHist Demo&#34;</span>, histImage);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>(<span style="color:#458;font-weight:bold">int</span> argc, <span style="color:#458;font-weight:bold">char</span> <span style="font-weight:bold">**</span>argv) {
</span></span><span style="display:flex;"><span>  cv<span style="font-weight:bold">::</span>Mat src, dst;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  cv<span style="font-weight:bold">::</span>VideoCapture cap;
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">if</span> (argc <span style="font-weight:bold">!=</span> <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>    cap.open(<span style="color:#099">0</span>);
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>    cap.open(argv[<span style="color:#099">1</span>]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">if</span> (<span style="font-weight:bold">!</span>cap.isOpened()) {
</span></span><span style="display:flex;"><span>    std<span style="font-weight:bold">::</span>cerr <span style="font-weight:bold">&lt;&lt;</span> <span style="color:#b84">&#34;Failed to load webcam/Video ...</span><span style="color:#b84">\n</span><span style="color:#b84">&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">return</span> <span style="font-weight:bold">-</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">for</span> (;;) {
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">if</span>(<span style="font-weight:bold">!</span>cap.read(src)) {
</span></span><span style="display:flex;"><span>      std<span style="font-weight:bold">::</span>cerr <span style="font-weight:bold">&lt;&lt;</span> <span style="color:#b84">&#34;Cannot read file</span><span style="color:#b84">\n</span><span style="color:#b84">&#34;</span>;
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>imshow(<span style="color:#b84">&#34;Src&#34;</span>, src);
</span></span><span style="display:flex;"><span>    std<span style="font-weight:bold">::</span>vector<span style="font-weight:bold">&lt;</span>cv<span style="font-weight:bold">::</span>Mat<span style="font-weight:bold">&gt;</span> bgr_planes;
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>split(src, bgr_planes);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">float</span> range[] <span style="font-weight:bold">=</span> {<span style="color:#099">0</span>, <span style="color:#099">256</span>};
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">const</span> <span style="color:#458;font-weight:bold">float</span> <span style="font-weight:bold">*</span>histRange <span style="font-weight:bold">=</span> {range};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">bool</span> uniform <span style="font-weight:bold">=</span> <span style="color:#999">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">bool</span> accumulate <span style="font-weight:bold">=</span> <span style="color:#999">false</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>Mat b_hist, g_hist, r_hist;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>calcHist(<span style="font-weight:bold">&amp;</span>bgr_planes[<span style="color:#099">0</span>], <span style="color:#099">1</span>, <span style="color:#099">0</span>, cv<span style="font-weight:bold">::</span>Mat(), b_hist, <span style="color:#099">1</span>, <span style="font-weight:bold">&amp;</span>histSize,
</span></span><span style="display:flex;"><span>                 <span style="font-weight:bold">&amp;</span>histRange, uniform, accumulate);
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>calcHist(<span style="font-weight:bold">&amp;</span>bgr_planes[<span style="color:#099">1</span>], <span style="color:#099">1</span>, <span style="color:#099">0</span>, cv<span style="font-weight:bold">::</span>Mat(), g_hist, <span style="color:#099">1</span>, <span style="font-weight:bold">&amp;</span>histSize,
</span></span><span style="display:flex;"><span>                 <span style="font-weight:bold">&amp;</span>histRange, uniform, accumulate);
</span></span><span style="display:flex;"><span>    cv<span style="font-weight:bold">::</span>calcHist(<span style="font-weight:bold">&amp;</span>bgr_planes[<span style="color:#099">2</span>], <span style="color:#099">1</span>, <span style="color:#099">0</span>, cv<span style="font-weight:bold">::</span>Mat(), r_hist, <span style="color:#099">1</span>, <span style="font-weight:bold">&amp;</span>histSize,
</span></span><span style="display:flex;"><span>                 <span style="font-weight:bold">&amp;</span>histRange, uniform, accumulate);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    drawHistogram(b_hist,g_hist,r_hist);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">if</span> (cv<span style="font-weight:bold">::</span>waitKey(<span style="color:#099">30</span>) <span style="font-weight:bold">==</span> <span style="color:#099">27</span>)
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="explanation">Explanation</h2>
<ul>
<li>
<p>We start the code by first reading our input file, which is a video frame by frame using <code>cap.read()</code> method.</p>
</li>
<li>
<p>Using <a href="https://docs.opencv.org/3.4/d2/de8/group__core__array.html#ga0547c7fed86152d7e9d0096029c8518a">split()</a> function we divide multi-channel array (i.e RGB) into separate single-channel array which we store in <code>bgr_planes</code>.</p>
</li>
<li>
<p>Then we calculate histogram of each plane and stores value in the variable <code>b_hist</code>,<code>g_hist</code>,<code>r_hist</code>.</p>
</li>
<li>
<p>In our histogram we want our <a href="https://www.quora.com/What-are-bins-in-histograms">bins</a> to have same size and we want to clear our histogram at the beginning therefore, we set <code>uniform</code> and <code>accumulate</code> to `true.</p>
</li>
<li>
<p>After calculating histogram we create an image <code>histImage</code> to display our histogram.</p>
</li>
<li>
<p>Then we simply draw the line using <a href="https://docs.opencv.org/3.4/d6/d6e/group__imgproc__draw.html#ga7078a9fae8c7e7d13d24dac2520ae4a2">cv::line</a> at each pixel for each channel i.e <code>b_hist</code>,<code>g_hist</code>,<code>r_hist</code>.</p>
</li>
</ul>
<h3 id="output">Output</h3>
<p><img src="./images.jpg" alt="Output"></p>
<h3 id="refrences">Refrences</h3>
<ul>
<li><a href="https://amzn.to/3N7WwbC">Building Computer Vision Projects with OpenCV 4 and C++</a></li>
<li><a href="https://amzn.to/3toR4sR">Learning OpenCV 3: Computer Vision In C++ With The OpenCV Library</a></li>
<li><a href="https://amzn.to/37ztG3o">OpenCV 4 Computer Vision Application Programming Cookbook: Build complex computer vision applications with OpenCV and C++, 4th Edition </a></li>
<li><a href="https://amzn.to/3ilHaC5">Object-Oriented Programming with C++ | 8th Edition </a></li>
<li><a href="https://www.picturecorrect.com/tips/the-histogram-explained/">https://www.picturecorrect.com/tips/the-histogram-explained/</a></li>
<li><a href="https://docs.opencv.org/3.4/d8/dbc/tutorial_histogram_calculation.html">https://docs.opencv.org/3.4/d8/dbc/tutorial_histogram_calculation.html</a></li>
</ul>

      </article>
    </div>
  </div>

  
  <div class="row">
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1">
      <hr class="m-0"/>
    </div>
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-2">
      
      <div class="blog-tags">
        
        <a href="http://localhost:1313/tags/programming/">programming</a>
        
        <a href="http://localhost:1313/tags/cpp/">cpp</a>
        
        <a href="http://localhost:1313/tags/opencv/">opencv</a>
        
      </div>
      
    </div>

    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
      
      <section id="social-share">
        <div class="list-inline footer-links">
          

<div>
  <p>Use the share button below if you liked it.</p>
</div>
<div class="share-box" aria-hidden="true">
  <ul class="share">
    
    <li>
      <a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fcollections%2fprogramming%2fcpp%2fopencv%2fcalculate-histogram%2f" target="_blank" title="Share on Facebook">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="bi bi-facebook" viewBox="0 0 16 16">
          <path
            d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z" />
        </svg>
      </a>
    </li>
    
    <li>
      <a href="//twitter.com/share?url=http%3a%2f%2flocalhost%3a1313%2fcollections%2fprogramming%2fcpp%2fopencv%2fcalculate-histogram%2f&amp;text=calHist%28%29%20-%20Calculate%20histogram%20using%20openCV%20and%20C%2b%2b&amp;via=map%5bemail%3asample%40gmail.com%20gelegram%3a%40include_Hatim%20github%3aMaster52%20instagram%3ahatim_master%20linkedin%3ahatim-master%20name%3aHatim%20Master%20reddit%3ahatim112%20website%3a%2f%5d"
        target="_blank" title="Share on Twitter">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="bi bi-twitter-x" viewBox="0 0 16 16">
          <path
            d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z" />
        </svg>
      </a>
    </li>


    
    <li>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fcollections%2fprogramming%2fcpp%2fopencv%2fcalculate-histogram%2f&amp;title=calHist%28%29%20-%20Calculate%20histogram%20using%20openCV%20and%20C%2b%2b"
        target="_blank" title="Share on LinkedIn">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="bi bi-linkedin" viewBox="0 0 16 16">
          <path
            d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z" />
        </svg>
      </a>
    </li>

    <li>
      <a target="_blank" rel="noopener noreferrer" aria-label="share calHist() - Calculate histogram using openCV and C&#43;&#43; on reddit"
        href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fcollections%2fprogramming%2fcpp%2fopencv%2fcalculate-histogram%2f&title=calHist%28%29%20-%20Calculate%20histogram%20using%20openCV%20and%20C%2b%2b">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="bi bi-reddit"
          viewBox="0 0 16 16">
          <path
            d="M6.167 8a.831.831 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661zm1.843 3.647c.315 0 1.403-.038 1.976-.611a.232.232 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83.458 0 .83-.381.83-.83a.831.831 0 0 0-1.66 0z" />
          <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.203.203 0 0 0-.153.028.186.186 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224c-.02.115-.029.23-.029.353 0 1.795 2.091 3.256 4.669 3.256 2.577 0 4.668-1.451 4.668-3.256 0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165z" />
        </svg>
      </a>
    </li>

    
    


    
    <li>
      <a href="whatsapp://send?text=http%3a%2f%2flocalhost%3a1313%2fcollections%2fprogramming%2fcpp%2fopencv%2fcalculate-histogram%2f&amp;description=calHist%28%29%20-%20Calculate%20histogram%20using%20openCV%20and%20C%2b%2b" target="_blank" rel="noopener"
        title="Share on WhatsApp">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="bi bi-whatsapp" viewBox="0 0 16 16">
          <path
            d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z" />
        </svg>
      </a>
    </li>
  </ul>
</div>


<p class="text-muted">It makes me smile, when I see it.</p>
        </div>
      </section>
      
    </div>

    
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 mt-3">
      <div class="card">
        <div class="row no-gutters">
          <div class="col-md-2 ">
            <div class="card-body ">
              
              <img src="/images/insightful-log.webp" class="img-responsive img-50 img-round" alt="">
            </div>
          </div>


          <div class="col-md-10">
            <div class="card-body p-1.1">
              <p class="p-0 m-0"><small class="text-muted">Written By</small></p>
              <p class="card-text fs-5 m-0">

                
                Hatim
                

              </p>
              
              <p class="card-text fs-6  m-0">Tech enthusiast and founder of InsightfulScript, passionately navigating the worlds of programming and machine learning</p>
              
            </div>
          </div>
        </div>
      </div>
    </div>
    

    <div class="col-lg-8 offset-lg-2 col-md-12 offset-md-1 pt-4">
      
      <ul class="list-group list-group-horizontal" style="flex-direction: row">
        
        <li class="list-group-item b-0 p-0">

          <a type="button" class="btn btn-dark" role="button" href="http://localhost:1313/collections/reviews/machine-learning-libraries-2021/"
            data-toggle="tooltip" data-placement="top" title="7 Best Machine Learning Libraries You Should Know in 2021">&larr;
            Previous Post</a>
        </li>
        


        
        <li class="list-group-item ms-auto b-0 p-0">
          <a type="button" class="btn btn-dark" role="button" href="http://localhost:1313/collections/linux/gnome-customize/"
            data-toggle="tooltip" data-placement="top" title="Customize Your GNOME Desktop">Next Post
            &rarr;</a>
        </li>
        
      </ul>
      
    </div>

    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
    </div>
  </div>
  
</div>

<div class="">
  
  
  
  
  

  
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-md-12 mt-3">
        <h3>Read More</h3>
        <hr />
      </div>

      
      

      
<div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <a href="http://localhost:1313/collections/programming/react-native/react-native-biomatric/">
        <div class="card h-100 single-post-card shadow-effect bg-faded-light border">
            <div class="card-body">
                <h3 class="fw-bold post-title">Implementing Biometric Authentication in React Native Made Easy</h3>
                

                <p class="post-meta">
                    <span class="post-meta text-muted">
  
  

  13 April 131312

  

  
  &nbsp;|&nbsp; <i class="bi bi-clock"></i>&nbsp;9&nbsp;minutes
  

  

  
</span>

                </p>
                

                <div class="post-entry">
                    
                    Strengthen the security of your React Native app with biometric authentication. Our guide makes it simple and straightforward to implement.

                    
                </div>

                <div class="read-more-section">
                    
                    <h6 class="text-muted link-underline">Read More <i class="bi bi-arrow-right"></i></h6>
                </div>
            </div>

            
            <img src="/images/react-native-biomatric_hu9cb1892c08812a762d7bfa1d1ba5aba2_3519329_500x0_resize_q75_box.jpg" alt="/images/react-native-biomatric.jpg"
                class="card-img-bottom img-fluid lazyload">
            

            
        </div>
    </a>
</div>


      

      
<div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <a href="http://localhost:1313/collections/programming/react-native/react-native-modal/">
        <div class="card h-100 single-post-card shadow-effect bg-faded-light border">
            <div class="card-body">
                <h3 class="fw-bold post-title">React Native Modal- A Beginner&#39;s Guide to Creating User-Friendly Interfaces</h3>
                

                <p class="post-meta">
                    <span class="post-meta text-muted">
  
  

  3 April 30312

  

  
  &nbsp;|&nbsp; <i class="bi bi-clock"></i>&nbsp;12&nbsp;minutes
  

  

  
</span>

                </p>
                

                <div class="post-entry">
                    
                    Learn how to use React Native Modal to create customizable pop-ups and dialogs for your mobile app. This guide will take you through the basics of creating user-friendly interfaces with easy-to-follow steps and examples.

                    
                </div>

                <div class="read-more-section">
                    
                    <h6 class="text-muted link-underline">Read More <i class="bi bi-arrow-right"></i></h6>
                </div>
            </div>

            
            <img src="/images/react-native-model-guide_hud77947122ec5bf723575dbf4adbc5a3e_1141034_500x0_resize_q75_box.jpg" alt="/images/react-native-model-guide.jpg"
                class="card-img-bottom img-fluid lazyload">
            

            
        </div>
    </a>
</div>


      

      
<div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <a href="http://localhost:1313/collections/programming/react-native/react-native-styling-animation/">
        <div class="card h-100 single-post-card shadow-effect bg-faded-light border">
            <div class="card-body">
                <h3 class="fw-bold post-title">Mastering React Native Styling Animation- Techniques, Tips, and Tricks</h3>
                

                <p class="post-meta">
                    <span class="post-meta text-muted">
  
  

  29 March 292912

  

  
  &nbsp;|&nbsp; <i class="bi bi-clock"></i>&nbsp;15&nbsp;minutes
  

  

  
</span>

                </p>
                

                <div class="post-entry">
                    
                    Learn how to create stunning animations using React Native Styling Animation. Discover the best techniques, tips, and tricks to make your app stand out.

                    
                </div>

                <div class="read-more-section">
                    
                    <h6 class="text-muted link-underline">Read More <i class="bi bi-arrow-right"></i></h6>
                </div>
            </div>

            
            <img src="/images/react-native-animation_hue9948f21c2412f542d57ba2f26b0bcf8_1158516_500x0_resize_q75_box.jpg" alt="/images/react-native-animation.jpg"
                class="card-img-bottom img-fluid lazyload">
            

            
        </div>
    </a>
</div>


      
    </div>
  </div>
  
  

  

</div>

    


<footer>

  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <ul
          class="list-inline list-group list-group-horizontal text-center footer-links d-flex justify-content-center flex-row">

          
          <li>
            <a href="mailto:sample@gmail.com" title="Email me" target="_blank">
              <span class="mx-2">
                <i class="bi bi-envelope"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://github.com/Master52" title="GitHub" target="_blank">
              <span class="mx-2">
                <i class="bi bi-github"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://reddit.com/u/hatim112" title="Reddit" target="_blank">
              <span class="mx-2">
                <i class="bi bi-reddit-alien"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://linkedin.com/in/hatim-master" title="LinkedIn" target="_blank">
              <span class="mx-2">
                <i class="bi bi-linkedin"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://www.instagram.com/hatim_master" title="Instagram" target="_blank">
              <span class="mx-2">
                <i class="bi bi-instagram"></i>
              </span>
            </a>
          </li>
          
        </ul>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <p class="credits copyright text-muted">
          
          
          <a href="/">Hatim Master</a>
          
          

          &nbsp;&bull;&nbsp;&copy;
          
          2023
          

          
          &nbsp;&bull;&nbsp;
          <a href="http://localhost:1313/">InsightfulScript</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          Powered by <a href="https://gohugo.io">Hugo</a> & <a href="https://github.com/binokochumolvarghese/lightbi-hugo">Lightbi.</a>&nbsp; Made with ❤ by <a href="https://binovarghese.com">Bino</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="http://localhost:1313/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="http://localhost:1313/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function () { $("pre.chroma").css("padding", "0"); }); </script>


    
  </body>
</html>

